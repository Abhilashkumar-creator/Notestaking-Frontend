{"ast":null,"code":"var _jsxFileName = \"D:\\\\notes app\\\\mern-notes-app-master\\\\client\\\\src\\\\components\\\\notes\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'timeago.js';\nimport axios from 'axios';\nexport default function Home() {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [token, setToken] = useState('');\n  const getNotes = async token => {\n    const res = await axios.get('api/notes', {\n      headers: {\n        Authorization: token\n      }\n    });\n    setNotes(res.data);\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('tokenStore');\n    setToken(token);\n    if (token) {\n      getNotes(token);\n    }\n  }, []);\n  const deleteNote = async id => {\n    try {\n      if (token) {\n        await axios.delete(`api/notes/${id}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        getNotes(token);\n      }\n    } catch (error) {\n      window.location.href = \"/\";\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, notes.map(note => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    key: note._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    title: note.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, note.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, note.content)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, format(note.date)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, note.name, /*#__PURE__*/React.createElement(Link, {\n    to: `edit/${note._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"close\",\n    onClick: () => deleteNote(note._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"X\"))));\n}\n_s(Home, \"65xeynqWgN6cRasJ8U2jnaNf7n0=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Link","format","axios","Home","_s","notes","setNotes","token","setToken","getNotes","res","get","headers","Authorization","data","localStorage","getItem","deleteNote","id","delete","error","window","location","href","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","note","key","_id","title","content","date","name","to","onClick","_c","$RefreshReg$"],"sources":["D:/notes app/mern-notes-app-master/client/src/components/notes/Home.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {format} from 'timeago.js'\nimport axios from 'axios'\n\nexport default function Home() {\n    const [notes, setNotes] = useState([])\n    const [token, setToken] = useState('')\n\n    const getNotes = async (token) =>{\n        const res = await axios.get('api/notes', {\n            headers:{Authorization: token}\n        })\n        setNotes(res.data)\n    }\n\n    useEffect(() =>{\n        const token = localStorage.getItem('tokenStore')\n        setToken(token)\n        if(token){\n            getNotes(token)\n        }\n    }, [])\n\n    const deleteNote = async (id) =>{\n        try {\n            if(token){\n                await axios.delete(`api/notes/${id}`, {\n                    headers: {Authorization: token}\n                })\n                getNotes(token)\n            }\n        } catch (error) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"note-wrapper\">\n            {\n                notes.map(note =>(\n                    <div className=\"card\" key={note._id}>\n                        <h4 title={note.title}>{note.title}</h4>\n                        <div className=\"text-wrapper\">\n                            <p>{note.content}</p>\n                        </div>\n                        <p className=\"date\">{format(note.date)}</p>\n                        <div className=\"card-footer\">\n                            {note.name}\n                            <Link to={`edit/${note._id}`} >Edit</Link>\n                        </div>\n                        <button className=\"close\" \n                        onClick={() => deleteNote(note._id)} >X</button>\n                    </div>\n                ))\n            }\n            \n        </div>\n    )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,IAAI,QAAO,kBAAkB;AACrC,SAAQC,MAAM,QAAO,YAAY;AACjC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMW,QAAQ,GAAG,MAAOF,KAAK,IAAI;IAC7B,MAAMG,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,WAAW,EAAE;MACrCC,OAAO,EAAC;QAACC,aAAa,EAAEN;MAAK;IACjC,CAAC,CAAC;IACFD,QAAQ,CAACI,GAAG,CAACI,IAAI,CAAC;EACtB,CAAC;EAEDf,SAAS,CAAC,MAAK;IACX,MAAMQ,KAAK,GAAGQ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;IAChDR,QAAQ,CAACD,KAAK,CAAC;IACf,IAAGA,KAAK,EAAC;MACLE,QAAQ,CAACF,KAAK,CAAC;IACnB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,UAAU,GAAG,MAAOC,EAAE,IAAI;IAC5B,IAAI;MACA,IAAGX,KAAK,EAAC;QACL,MAAML,KAAK,CAACiB,MAAM,CAAE,aAAYD,EAAG,EAAC,EAAE;UAClCN,OAAO,EAAE;YAACC,aAAa,EAAEN;UAAK;QAClC,CAAC,CAAC;QACFE,QAAQ,CAACF,KAAK,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;IAC9B;EACJ,CAAC;EAED,oBACI1B,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAErB1B,KAAK,CAAC2B,GAAG,CAACC,IAAI,iBACVpC,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAC,MAAM;IAACS,GAAG,EAAED,IAAI,CAACE,GAAI;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChClC,KAAA,CAAA2B,aAAA;IAAIY,KAAK,EAAEH,IAAI,CAACG,KAAM;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEE,IAAI,CAACG,KAAU,CAAC,eACxCvC,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzBlC,KAAA,CAAA2B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIE,IAAI,CAACI,OAAW,CACnB,CAAC,eACNxC,KAAA,CAAA2B,aAAA;IAAGC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE9B,MAAM,CAACgC,IAAI,CAACK,IAAI,CAAK,CAAC,eAC3CzC,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACvBE,IAAI,CAACM,IAAI,eACV1C,KAAA,CAAA2B,aAAA,CAACxB,IAAI;IAACwC,EAAE,EAAG,QAAOP,IAAI,CAACE,GAAI,EAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE,MAAU,CACxC,CAAC,eACNlC,KAAA,CAAA2B,aAAA;IAAQC,SAAS,EAAC,OAAO;IACzBgB,OAAO,EAAEA,CAAA,KAAMxB,UAAU,CAACgB,IAAI,CAACE,GAAG,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE,GAAS,CAC9C,CACR,CAGJ,CAAC;AAEd;AAAC3B,EAAA,CAtDuBD,IAAI;AAAAuC,EAAA,GAAJvC,IAAI;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}