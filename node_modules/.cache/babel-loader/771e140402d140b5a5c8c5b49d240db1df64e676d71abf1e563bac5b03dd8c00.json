{"ast":null,"code":"var _jsxFileName = \"D:\\\\notes app\\\\mern-notes-app-master\\\\client\\\\src\\\\components\\\\notes\\\\EditNote.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nexport default function EditNote({\n  match\n}) {\n  _s();\n  const [note, setNote] = useState({\n    title: '',\n    content: '',\n    date: '',\n    id: ''\n  });\n  const history = useHistory();\n  useEffect(() => {\n    const getNote = async () => {\n      const token = localStorage.getItem('tokenStore');\n      if (match.params.id) {\n        const res = await axios.get(`/api/notes/${match.params.id}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        setNote({\n          title: res.data.title,\n          content: res.data.content,\n          date: new Date(res.data.date).toLocaleDateString(),\n          id: res.data._id\n        });\n      }\n    };\n    getNote();\n  }, [match.params.id]);\n  const onChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNote({\n      ...note,\n      [name]: value\n    });\n  };\n  const editNote = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('tokenStore');\n      if (token) {\n        const {\n          title,\n          content,\n          date,\n          id\n        } = note;\n        const newNote = {\n          title,\n          content,\n          date\n        };\n        await axios.put(`/api/notes/${id}`, newNote, {\n          headers: {\n            Authorization: token\n          }\n        });\n        return history.push('/');\n      }\n    } catch (err) {\n      window.location.href = \"/\";\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-note\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Edit Note\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: editNote,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: note.title,\n    id: \"title\",\n    name: \"title\",\n    required: true,\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Content\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    value: note.content,\n    id: \"content\",\n    name: \"content\",\n    required: true,\n    rows: \"10\",\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Date: \", note.date, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"date\",\n    name: \"date\",\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Save\")));\n}\n_s(EditNote, \"JtKdvnLonNH255zETAJknOXY6Pg=\", false, function () {\n  return [useHistory];\n});\n_c = EditNote;\nvar _c;\n$RefreshReg$(_c, \"EditNote\");","map":{"version":3,"names":["React","useState","useEffect","axios","useHistory","EditNote","match","_s","note","setNote","title","content","date","id","history","getNote","token","localStorage","getItem","params","res","get","headers","Authorization","data","Date","toLocaleDateString","_id","onChangeInput","e","name","value","target","editNote","preventDefault","newNote","put","push","err","window","location","href","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","autoComplete","htmlFor","type","required","onChange","rows","_c","$RefreshReg$"],"sources":["D:/notes app/mern-notes-app-master/client/src/components/notes/EditNote.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport {useHistory} from 'react-router-dom'\n\nexport default function EditNote({match}) {\n    const [note, setNote] = useState({\n        title: '',\n        content: '',\n        date: '',\n        id: ''\n    })\n    const history = useHistory()\n\n    useEffect(() =>{\n        const getNote = async () =>{\n            const token = localStorage.getItem('tokenStore')\n            if(match.params.id){\n                const res = await axios.get(`/api/notes/${match.params.id}`, {\n                    headers: {Authorization: token}\n                })\n                setNote({\n                    title: res.data.title,\n                    content: res.data.content,\n                    date: new Date(res.data.date).toLocaleDateString(),\n                    id: res.data._id\n                })\n            }\n        }\n        getNote()\n    },[match.params.id])\n\n    const onChangeInput = e => {\n        const {name, value} = e.target;\n        setNote({...note, [name]:value})\n    }\n\n\n    const editNote = async e => {\n        e.preventDefault()\n        try {\n            const token = localStorage.getItem('tokenStore')\n            if(token){\n                const {title, content, date, id} = note;\n                const newNote = {\n                    title, content, date\n                }\n\n                await axios.put(`/api/notes/${id}`, newNote, {\n                    headers: {Authorization: token}\n                })\n                \n                return history.push('/')\n            }\n        } catch (err) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"create-note\">\n            <h2>Edit Note</h2>\n            <form onSubmit={editNote} autoComplete=\"off\">\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" value={note.title} id=\"title\"\n                    name=\"title\" required onChange={onChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" value={note.content} id=\"content\"\n                    name=\"content\" required rows=\"10\" onChange={onChangeInput} />\n                </div>\n\n                <label htmlFor=\"date\">Date: {note.date} </label>\n                <div className=\"row\">\n                    <input type=\"date\" id=\"date\"\n                    name=\"date\" onChange={onChangeInput} />\n                </div>\n\n                <button type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}